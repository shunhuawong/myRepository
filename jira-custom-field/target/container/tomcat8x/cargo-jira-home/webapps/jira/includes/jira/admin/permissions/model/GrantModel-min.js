define("jira/project/permissions/grantmodel",["backbone","jira/project/permissions/securitytypes"],function(Backbone,SecurityTypes){return Backbone.Model.extend({defaults:{displayName:"",securityType:null,values:[]},validate:function(){switch(this.get("securityType")){case SecurityTypes.SINGLE_USER:var paramValue=this.get("securityTypeParamVal");if(_.isArray(paramValue)===false||_.first(paramValue)===""){return"a.user.must.be.selected"}break;default:break}}})});define("jira/project/permissions/grantcollection",["backbone","underscore","jira/project/permissions/grantmodel"],function(Backbone,_,GrantModel){return Backbone.Collection.extend({model:GrantModel,getSelectedData:function(){var selectedGrant=this.getSelectedModel();if(selectedGrant){var result={securityType:selectedGrant.get("securityType")};var selectedParam=selectedGrant.get("securityTypeParamVal");if(selectedParam){result.value=_.isArray(selectedParam)?_.first(selectedParam):selectedParam}return result}else{return null}},getSelectedModel:function(){return this.find(function(grantModel){return grantModel.get("selected")})}})});