define("jira/project/permissions/permissionschememodel",["backbone","jquery","underscore","jira/project/permissions/permissioncollection","jira/project/permissions/permissiongroupmodel"],function(Backbone,$,_,ProjectPermissionCollection,ProjectPermissionGroupModel){return Backbone.Model.extend({defaults:{id:null,name:"",description:"",permissions:[],displayRendering:{readOnly:true,grouping:[]}},urlRoot:AJS.contextPath()+"/rest/internal/2/managedpermissionscheme/",initialize:function(attributes){this.readOnly=attributes.readOnly},getGroupModel:function(group){var permissionsForGroup=this.get("permissions").filter(function(permissionModel){return _.contains(group.permissions,permissionModel.get("permissionKey"))});return new ProjectPermissionGroupModel({heading:group.heading,permissions:new ProjectPermissionCollection(permissionsForGroup)})},parse:function(data){var newData=$.extend({},data);newData.permissions=new ProjectPermissionCollection(data.permissions);return newData},isReadOnly:function(){return this.readOnly}})});