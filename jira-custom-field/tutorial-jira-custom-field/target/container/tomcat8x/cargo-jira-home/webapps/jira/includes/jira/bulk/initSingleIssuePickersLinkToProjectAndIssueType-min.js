(function(){var $=require("jquery");var SingleIssuePickerToProjectAndIssueTypeBinder=function(options){if(typeof options.issuePickerSelect!=="undefined"&&typeof options.issuePickerSelect.issuePicker!=="undefined"){this.issuePickerSelect=options.issuePickerSelect;this.issuePicker=this.issuePickerSelect.issuePicker;this.parentContainerSelector=options.parentContainerSelector;this.subtaskIds=options.subtaskIds;var issuePickerSelect=this.issuePickerSelect;var issuePicker=this.issuePicker;var subtaskIds=this.subtaskIds;var projectInput=$(this.issuePickerSelect).closest(this.parentContainerSelector).find("input.project-field");var issueTypeInput=$(this.issuePickerSelect).closest(this.parentContainerSelector).find("input.issuetype-field");if(projectInput.length===1){projectInput.change(function(){issuePicker.clear();issuePicker.setCurrentProjectId(projectInput.val())})}if(issueTypeInput.length===1){issueTypeInput.change(function(){var issuePickerContainer=$(issuePickerSelect).closest("tr");var subtask=(subtaskIds.indexOf(issueTypeInput.val())!==-1);if(subtask===true){issuePickerContainer.show();issuePicker.setCurrentProjectId(projectInput.val())}else{issuePickerContainer.hide()}});issueTypeInput.change()}}$(issuePickerSelect).addClass("bound-to-project-issuetype")};var subtaskIds=WRM.data.claim("jira.webresources:jira-bulk-edit.subtaskIds")||[];function initIssuePicker(){var parentContainerSelector=".be-project-type-issue";$(parentContainerSelector+" .aui-field-singleissuepicker").each(function(){new SingleIssuePickerToProjectAndIssueTypeBinder({issuePickerSelect:this,parentContainerSelector:parentContainerSelector,subtaskIds:subtaskIds})})}$(function initSingleIssuePickersLinkToProjectAndIssueType(){initIssuePicker()})})();